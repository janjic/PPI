{% extends '@EasyAdmin/default/layout.html.twig' %}


{% block head_stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/app/stylesheets/jquery.tagsinput.css') }}">
    <link  href="{{ asset('bundles/glavwebuploaderdropzone/splashscreen/splashscreen.css') }}" rel="stylesheet">
    <link  href="{{ asset('bundles/glavwebuploaderdropzone/fields.css') }}" rel="stylesheet">
    <link  href="{{ asset('bundles/app/stylesheets/switchery.css') }}" rel="stylesheet">
{% endblock %}


{% block head_javascript %}

    {{ parent() }}
    <script src="{{ asset('bundles/app/js/jquery.tagsinput.min.js') }}"></script>
    <script src="{{ asset('bundles/glavwebuploaderdropzone/splashscreen/jquery.splashscreen.js') }}"></script>
    <script src="{{ asset('bundles/glavwebuploaderdropzone/dropzone.js') }}"></script>
    <script src="{{ asset('bundles/glavwebuploaderdropzone/jquery.dropzone_uploader.js') }}"></script>
    <script src="{{ asset('bundles/glavwebuploaderdropzone/fields.js') }}"></script>
    <script src="{{ asset('bundles/app/js/switchery.js') }}"></script>
{% endblock head_javascript %}

  {% block body_javascript %}
      {{ parent() }}
      {% if not app.request.get('action') == 'list' %}
        <script src="{{ asset('bundles/app/js/custom.style.js') }}"></script>
      {% endif %}

      <script>
          $(document).ready(function()
          {
              var id= null;
              $("#scene_subLocations_autocomplete").prop('disabled', 'disabled');
                  $("#scene_location_autocomplete").change(function()
                  {
                      var tmp = parseInt($(this).val());
                      //changed to other value
                      if (Number.isInteger(id) && tmp || (id === null && tmp)) {
                          id = tmp;
                          $("#scene_subLocations_autocomplete").prop('disabled', false);
                      } else {
                          $("#scene_subLocations_autocomplete").select2("val", "");
                          $("#scene_subLocations_autocomplete").prop('disabled', 'disabled');
                          id = null;
                      }

                  });


              $.ajaxPrefilter(function( options ) {
                  if (parseInt(id)) {
                      options.url = options.url + '&parent='+id;
                  }
              });

          });
      </script>

  {% endblock body_javascript %}